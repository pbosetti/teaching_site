<!DOCTYPE html>
<html lang="it-IT"><head>
<script src="../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.30">

  <meta name="author" content="Paolo Bosetti">
  <title>Paolo Bosetti – Introduction to R language</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-7959e9c508be0453617036fd3007b339.css">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-77EMP7T5YY"></script>

  <script type="text/plain" cookie-consent="tracking">

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-77EMP7T5YY', { 'anonymize_ip': true});
  </script>
  
  <script type="text/javascript" charset="UTF-8">
  document.addEventListener('DOMContentLoaded', function () {
  cookieconsent.run({
    "notice_banner_type":"simple",
    "consent_type":"express",
    "palette":"light",
    "language":"en",
    "page_load_consent_levels":["strictly-necessary"],
    "notice_banner_reject_button_hide":false,
    "preferences_center_close_button_hide":false,
    "website_name":""
    ,
  "language":"it-IT"
    });
  });
  </script> 
    
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Introduction to R language</h1>
  <p class="subtitle"></p><p>Design of Experiments and Statistical Analysis of Experimental Data, 2025<br>
<img data-src="images/by-nc-sa.png" height="30"></p><p></p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Paolo Bosetti 
</div>
        <p class="quarto-title-affiliation">
            University of Trento, Department of Industrial Engineering
          </p>
    </div>
</div>

</section>
<section>
<section id="introduction-to-r-language" class="title-slide slide level1 center">
<h1>Introduction to R language</h1>
<p>Statistical analysis requires the use of specific software</p>
<p>Today the two most used software/languages in this field are Python and R, followed by Matlab</p>
<p>We will use R because it is specific for statistics, graphics-oriented and open source</p>
</section>
<section id="useful-links" class="slide level2">
<h2>Useful links</h2>
<ul>
<li>GNU-R: <a href="https://cran.mirror.garr.it/CRAN/">https://cran.mirror.garr.it/CRAN/</a></li>
<li>RStudio: <a href="https://posit.co/downloads/">https://posit.co/downloads/</a></li>
<li>Cheat sheet: <a href="https://posit.co/resources/cheatsheets/">https://posit.co/resources/cheatsheets/</a></li>
<li>Tidyverse: <a href="https://tidyverse.org">https://tidyverse.org</a></li>
</ul>
</section>
<section id="rstudio-environment" class="slide level2">
<h2>RStudio environment</h2>
<ul>
<li>Installation: <a href="http://www.r-project.org">first R</a>, <a href="https://posit.co/downloads/">then RStudio</a></li>
<li>RStudio works on folders or (better) <strong>projects</strong> (<code>.Rproj</code>)</li>
<li>A project also contains settings that are specific and common to files in the folder</li>
<li>An RStudio <strong>session</strong> can operate on a single project</li>
<li>Multiple sessions can be opened at the same time</li>
<li>RStudio is a very powerful and complex environment, also suitable for compiling technical <em>reports</em>, articles, books and presentations (like this one)</li>
</ul>

<aside><div>
<p><strong>Note</strong>: These slides provide an embedded R environment similar to RStudio, and useful for quiclky try the code here discussed: click on the terminal icon on the bottom left, or <span class="bgreen">just hit the <code>§</code> key</span>.</p>
</div></aside></section>
<section id="the-r-language" class="slide level2">
<h2>The R language</h2>
<ul>
<li>R is a high-level, declarative, interpreted language with C-like syntax</li>
<li>R is both a language and an interpreter</li>
<li>R is a <em>dynamically typed language</em></li>
<li>R is used in both <strong>script mode</strong> and <strong>interactive mode</strong></li>
<li>R began as an open source GNU version of S, a proprietary language for statistical analysis</li>
<li>RStudio is a proprietary (but free) IDE for R</li>
</ul>
</section>
<section id="assignments" class="slide level2">
<h2>Assignments</h2>
<p>Every language uses <strong>variables</strong> to store values and objects through an <strong>assignment</strong> operation:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb1-2"><a></a><span class="co"># but also</span></span>
<span id="cb1-3"><a></a>b <span class="ot">=</span> <span class="dv">2</span></span>
<span id="cb1-4"><a></a><span class="co"># however arrow notation is preferred,</span></span>
<span id="cb1-5"><a></a><span class="co"># because it also works like this:</span></span>
<span id="cb1-6"><a></a><span class="dv">3</span> <span class="ot">-&gt;</span> c</span>
<span id="cb1-7"><a></a><span class="co"># to display the value of a variable:</span></span>
<span id="cb1-8"><a></a>c</span>
<span id="cb1-9"><a></a><span class="co"># in one fell swoop, assignment and display:</span></span>
<span id="cb1-10"><a></a>(d <span class="ot">&lt;-</span> <span class="st">"string"</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Executing a command directly provides a result:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="dv">12</span><span class="sc">*</span><span class="dv">12</span></span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 144</code></pre>
</div>
</div>

<aside><div>
<p>Note the text <code>[1]</code> at the beginning of the output line — it will be clear later</p>
</div></aside></section>
<section id="types-or-native-classes" class="slide level2">
<h2>Types, or native classes</h2>
<ul>
<li>R has 6+1 native types or <em>classes</em>
<ul>
<li>character: <code>"a"</code>, <code>"string"</code>, <code>'my text'</code></li>
<li>numeric: <code>1</code>, <code>3.1415</code></li>
<li>integer: <code>1L</code></li>
<li>logical: <code>TRUE</code>, <code>FALSE</code> (or <code>T</code> and <code>F</code>)</li>
<li>complex: <code>1+4i</code></li>
<li>function: a <em>function</em></li>
<li>(raw: bit sequence)</li>
</ul></li>
<li>Each instance is intrinsically a vector</li>
<li>A scalar is simply a vector of length 1</li>
</ul>
</section>
<section id="special-values" class="slide level2">
<h2>Special values</h2>
<ul>
<li>The following special values are defined:
<ul>
<li><code>NA</code>: missing value</li>
<li><code>NULL</code>: nothing</li>
<li><code>Inf</code>: Infinite</li>
<li><code>NaN</code>: Not a Number (example <code>0/0</code>)</li>
</ul></li>
</ul>
</section>
<section id="coercion" class="slide level2">
<h2>Coercion</h2>
<ul>
<li>When mixing different types, e.g.&nbsp;into a vector, R transforms them into a common type:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">c</span>(<span class="dv">1</span>L, <span class="dv">7</span>, <span class="st">"2"</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1" "7" "2"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="fu">c</span>(T, <span class="dv">0</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="fu">as.numeric</span>(<span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"1"</span>))</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA  1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="fu">as.character</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">1.7</span>))</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1"   "1.7"</code></pre>
</div>
</div>
</section>
<section id="vectors" class="slide level2">
<h2>Vectors</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a><span class="co"># They are constructed with the c() operator/function:</span></span>
<span id="cb12-2"><a></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">2</span>, <span class="fl">7.5</span>, <span class="dv">3</span>)</span>
<span id="cb12-3"><a></a><span class="co"># or with a sequence:</span></span>
<span id="cb12-4"><a></a>v2 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb12-5"><a></a><span class="co"># also with specified pitch:</span></span>
<span id="cb12-6"><a></a>v3 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="fl">0.5</span>)</span>
<span id="cb12-7"><a></a><span class="co"># Functions are called with parentheses,</span></span>
<span id="cb12-8"><a></a><span class="co"># separating arguments with ,</span></span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note the output for <code>v3</code> in this case:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1.0  1.5  2.0  2.5  3.0  3.5  4.0  4.5  5.0  5.5  6.0
[12]  6.5  7.0  7.5  8.0  8.5  9.0  9.5 10.0</code></pre>
</div>
</div>
<p>The first element of the first row is the <code>[1]</code> element of the vector, while the first element of the second row is the <code>[12]</code> element. In all, the vector <code>v3</code> has 19 elements</p>
</section>
<section id="vectors-1" class="slide level2">
<h2>Vectors</h2>
<p>Variables are natively vectors. Scalars are just vectors of dimension 1:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a>a <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb14-2"><a></a><span class="fu">length</span>(a)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a><span class="fu">length</span>(v3)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 19</code></pre>
</div>
</div>
<p>Functions therefore always act on vectors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a>a <span class="sc">*</span> <span class="dv">2</span></span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a>v3 <span class="sc">+</span> <span class="dv">2</span></span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  3.0  3.5  4.0  4.5  5.0  5.5  6.0  6.5  7.0  7.5  8.0
[12]  8.5  9.0  9.5 10.0 10.5 11.0 11.5 12.0</code></pre>
</div>
</div>
</section>
<section id="introspection" class="slide level2">
<h2>Introspection</h2>
<ul>
<li>Useful functions for inspecting objects:
<ul>
<li><code>mode()</code>: <em>storage mode</em></li>
<li><code>class()</code>: class (high level, same as <code>mode()</code> for basic types)</li>
<li><code>typeof()</code>: type (low level)</li>
<li><code>length()</code>: vector length</li>
<li><code>attributes()</code>: metadata</li>
</ul></li>
</ul>
</section>
<section id="matrices" class="slide level2">
<h2>Matrices</h2>
<ul>
<li>They are constructed with the <code>matrix()</code> function</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a>(m1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">2</span>, <span class="dv">5</span>))</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>the <code>array()</code> function constructs <em>n</em>-dimensional arrays</li>
<li>A matrix is a vector with <code>dim</code> attribute:</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a><span class="fu">attr</span>(m1, <span class="st">"dim"</span>)</span>
<span id="cb23-2"><a></a>v <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb23-3"><a></a><span class="fu">attr</span>(v, <span class="st">"dim"</span>) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>) <span class="co"># is equivalent to dim(m) &lt;- c(2,2)</span></span>
<span id="cb23-4"><a></a>v</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="factors" class="slide level2">
<h2>Factors</h2>
<ul>
<li>An additional (non-base) but very common class is <code>factor</code></li>
<li>Represents categorical variables (ordered or unordered)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a>(vf <span class="ot">&lt;-</span> <span class="fu">factor</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">levels=</span>LETTERS[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">4</span>)], <span class="at">ordered=</span>T))</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] A B C D E
Levels: B &lt; A &lt; C &lt; E &lt; D</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a><span class="fu">class</span>(vf)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ordered" "factor" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a><span class="fu">typeof</span>(vf)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a></a>vf[<span class="dv">1</span>] <span class="sc">&lt;</span> vf[<span class="dv">3</span>]</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
<section id="strings" class="slide level2">
<h2>Strings</h2>
<p>A string can be thought of as an array of characters with a length greater than 1.</p>
<p>The most common string manipulation functions are <code>cat()</code>, <code>paste()</code>, and <code>paste0()</code>. The first is used to print the string as it is:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a></a><span class="fu">cat</span>(<span class="st">"Hello!"</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello!</code></pre>
</div>
</div>
<p>The two functions <code>paste()</code> and <code>paste0()</code> are used to join two or more strings, the first inserting a space in between, the second without space:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a></a><span class="fu">paste</span>(<span class="st">"Hello,"</span>, <span class="st">"World!"</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hello, World!"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a></a><span class="fu">paste0</span>(<span class="st">"Hello,"</span>, <span class="st">"World!"</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hello,World!"</code></pre>
</div>
</div>
</section>
<section id="indexing" class="slide level2">
<h2>Indexing</h2>
<ul>
<li>R’s indexing syntax is very flexible and powerful</li>
<li>as for vectors, square brackets <code>[r,c]</code> are used, the <strong>base is 1</strong></li>
<li>if an index is missing, it means “all rows|columns”</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a></a>v3[<span class="dv">3</span>]</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a></a>m1[<span class="dv">1</span>,<span class="dv">1</span>]</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a></a>m1[<span class="dv">2</span>,]</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  4  6  8 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a></a>m1[,]</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    3    5    7    9
[2,]    2    4    6    8   10</code></pre>
</div>
</div>
</section>
<section id="indexing-1" class="slide level2">
<h2>Indexing</h2>
<ul>
<li>An index can also be a vector of positions or a vector of Boolean values</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a></a>v1[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>)] <span class="co"># extracts only elements 2, 4, and 1</span></span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  3 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a></a>v2[v2 <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>] <span class="co"># extract elements divisible by 2</span></span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  4  6  8 10</code></pre>
</div>
</div>
<p>The second case works thanks to the <strong>modulus operator</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a></a>v2 <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span> <span class="co"># modulus operator (remainder)</span></span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE
[10]  TRUE</code></pre>
</div>
</div>

<aside><div>
<p><strong>Note</strong>: <code>TRUE</code> and <code>FALSE</code> can be abbreviated to <code>T</code> and <code>F</code></p>
</div></aside></section>
<section id="functions" class="slide level2">
<h2>Functions</h2>
<ul>
<li>Functions are <em>first class objects</em>, that is, they are valid <strong>types</strong></li>
<li>can be <strong>assigned to variables</strong> and passed to other functions</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a></a>my_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb52-2"><a></a><span class="fu">my_fun</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1  4  9 16 25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a></a>your_fun <span class="ot">&lt;-</span> my_fun</span>
<span id="cb54-2"><a></a><span class="fu">your_fun</span>(<span class="dv">6</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 36</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a></a>my_apply <span class="ot">&lt;-</span> <span class="cf">function</span>(x, f) <span class="fu">f</span>(x)</span>
<span id="cb56-2"><a></a><span class="fu">my_apply</span>(<span class="dv">10</span>, my_fun)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100</code></pre>
</div>
</div>
<ul>
<li>If the definition requires multiple lines, a <strong>block</strong> is used between <code>{}</code></li>
<li>Each function <strong>always</strong> returns the last evaluated expression</li>
<li>Or explicitly via <code>return()</code></li>
</ul>
</section>
<section id="arrow-functions-replacement-functions" class="slide level2">
<h2>Arrow functions (<em>replacement functions</em>)</h2>
<ul>
<li>We’ve seen things like <code>dim(v) &lt;- c(2,3)</code>: how do you declare them?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a></a><span class="st">`</span><span class="at">pwr&lt;-</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(obj, value) obj <span class="sc">**</span> value</span>
<span id="cb58-2"><a></a>a <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb58-3"><a></a><span class="fu">pwr</span>(a) <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb58-4"><a></a>a</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1024</code></pre>
</div>
</div>
<ul>
<li>The last argument <strong>must</strong> be called <code>value</code> and represents the right side of the assignment!</li>
</ul>
</section>
<section id="flow-control" class="slide level2">
<h2>Flow control</h2>
<p>R supports typical flow control instructions</p>
<ul>
<li>for conditional statements:
<ul>
<li><code>if(cond) expr</code></li>
<li><code>if(cond) true.expr else false.expr</code></li>
<li><code>iffelse(cond, true.expr, false.expr)</code></li>
</ul></li>
<li>and for cycles:
<ul>
<li><code>for(var in seq) expr</code></li>
<li><code>while(cond) expr</code></li>
<li><code>repeat expr</code></li>
<li><code>break</code></li>
<li><code>next</code></li>
</ul></li>
</ul>
</section>
<section id="function-arguments" class="slide level2">
<h2>Function arguments</h2>
<ul>
<li>Topics can be indicated by position or name</li>
<li>Named topics can appear in any order</li>
<li>Arguments may have a default, in which case they are optional</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y, <span class="at">n=</span><span class="dv">10</span>, <span class="at">test=</span>F) {</span>
<span id="cb60-2"><a></a>   <span class="fu">ifelse</span>(test, <span class="dv">0</span>, x<span class="sc">^</span>y <span class="sc">+</span> n)</span>
<span id="cb60-3"><a></a>}</span>
<span id="cb60-4"><a></a><span class="fu">f</span>(<span class="dv">2</span>, <span class="dv">10</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1034</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a></a><span class="fu">f</span>(<span class="at">test=</span>F, <span class="at">y=</span><span class="dv">10</span>, <span class="at">x=</span><span class="dv">2</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1034</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a></a><span class="fu">f</span>(<span class="at">test=</span>T)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
</section>
<section id="difference-between---and" class="slide level2">
<h2>Difference between <code>&lt;-</code> and <code>=</code></h2>
<ul>
<li>The <code>=</code> operator as an assignment is valid only at the <em>top-level</em></li>
<li>The <code>&lt;-</code> operator is valid everywhere, even as a function argument:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a></a><span class="fu">system.time</span>(m <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="dv">1</span><span class="sc">:</span><span class="fl">1E6</span>))</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.002   0.000   0.002 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a></a>m</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 500000.5</code></pre>
</div>
</div>
</section>
<section id="dataframes" class="slide level2">
<h2>Dataframes</h2>
<ul>
<li>In R, <code>dataframes</code> are used rather than matrices</li>
<li>These are tables organized by columns, internally homogeneous but potentially of different types</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">A=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">B=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb70-2"><a></a><span class="fu">head</span>(df)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  A B
1 1 a
2 2 b
3 3 c
4 4 d
5 5 e
6 6 f</code></pre>
</div>
</div>
</section>
<section id="dataframes-1" class="slide level2">
<h2>Dataframes</h2>
<ul>
<li>A dataframe can be indexed as an array (two indices)</li>
<li>Or by selecting a column with the notation <code>$</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a></a>df[<span class="dv">2</span>,<span class="dv">2</span>]</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "b"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a></a>df<span class="sc">$</span>B[<span class="dv">2</span>]</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "b"</code></pre>
</div>
</div>
<p>Also in assignment:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a></a>df<span class="sc">$</span>C <span class="ot">&lt;-</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb76-2"><a></a><span class="fu">head</span>(df, <span class="dv">3</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  A B C
1 1 a A
2 2 b B
3 3 c C</code></pre>
</div>
</div>
</section>
<section id="lists" class="slide level2 scrollable">
<h2>Lists</h2>
<p>A list is a sequence of key-value pairs, that is, a sequence of values identified by a name, or key.</p>
<p>Unlike vectors (which are <strong>always</strong> homogeneous) they can contain heterogeneous values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a></a>(l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">A=</span><span class="st">"one"</span>, <span class="at">B=</span><span class="st">"two"</span>, <span class="at">C=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>))</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$A
[1] "one"

$B
[1] "two"

$C
[1] 1 2 3 4</code></pre>
</div>
</div>
<p>A list can be indexed in three ways:</p>
<ul>
<li>with the <code>$</code> operator: extracts a single element by name</li>
<li>with the <code>[]</code> operator: extract elements by position <strong>and obtain a list</strong></li>
<li>with the <code>[[]]</code> operator: extracts a single element per position</li>
</ul>
</section>
<section id="commonly-used-algorithms" class="slide level2">
<h2>Commonly used algorithms</h2>
<ul>
<li>Sorting: <code>sort</code>, <code>rev</code>, <code>order</code></li>
<li>Sampling: <code>sample</code>, <code>expand.grid</code></li>
<li>Aggregation: <code>by</code>, <code>aggregate</code></li>
<li>Contingency tables: <code>table</code></li>
</ul>
</section>
<section id="sorting-vectors" class="slide level2">
<h2>Sorting vectors</h2>
<p>To sort a vector you use the <code>sort</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a></a>v <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">10</span>)</span>
<span id="cb80-2"><a></a><span class="fu">sort</span>(v)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.389578 4.349115 6.155680 9.070275 9.173870</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a></a><span class="fu">rev</span>(<span class="fu">sort</span>(v))</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9.173870 9.070275 6.155680 4.349115 3.389578</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a></a><span class="fu">sort</span>(v, <span class="at">decreasing =</span> T)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9.173870 9.070275 6.155680 4.349115 3.389578</code></pre>
</div>
</div>
</section>
<section id="sorting-dataframes" class="slide level2">
<h2>Sorting dataframes</h2>
<p>To reorder a data frame, the ordered indices are extracted:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">A=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">B=</span><span class="fu">runif</span>(<span class="dv">5</span>))</span>
<span id="cb86-2"><a></a>df[<span class="fu">order</span>(df<span class="sc">$</span>B),]</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  A         B
1 1 0.2016819
5 5 0.6291140
4 4 0.6607978
2 2 0.8983897
3 3 0.9446753</code></pre>
</div>
</div>
<p>The <code>order</code> function returns the indices of a vector ordered according to the values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a></a><span class="fu">order</span>(df<span class="sc">$</span>B)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 5 4 2 3</code></pre>
</div>
</div>
<p>where the first is the index of the smallest value of <code>df$B</code> and the last is the index of the largest</p>
</section>
<section id="sampling" class="slide level2">
<h2>Sampling</h2>
<p><em>Sampling</em> a set of data (a vector) means extracting a subset (called <strong>sample</strong>) of values randomly. This is done with the <code>sample</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a></a><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="co"># without reinsertion</span></span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  2  3  1  5  7 10  6  4  9  8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a></a><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">replace =</span> T) <span class="co"># with reinsertion</span></span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  9  5  5  9  9  5  5  2 10  9</code></pre>
</div>
</div>
<p>The sample size can be equal (case above) or smaller than the initial set:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a></a><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">size =</span> <span class="dv">5</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 4 3 6 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a></a><span class="fu">sample</span>(<span class="dv">10</span>) <span class="co"># random integer generation without repetition</span></span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 10  6  7  4  8  9  2  1  3  5</code></pre>
</div>
</div>
</section>
<section id="grids" class="slide level2">
<h2>Grids</h2>
<p>A <strong>grid</strong> is a matrix that contains all (ordered) combinations between <span class="math inline">\(n\)</span> vectors of possibly different sizes. In R it is represented as a data frame and constructed with the <code>expand.grid</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a></a>(df <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">A=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">B=</span><span class="fu">c</span>(<span class="st">"-"</span>, <span class="st">"+"</span>), <span class="at">D=</span><span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>)))</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   A B D
1  1 - a
2  2 - a
3  1 + a
4  2 + a
5  1 - b
6  2 - b
7  1 + b
8  2 + b
9  1 - c
10 2 - c
11 1 + c
12 2 + c</code></pre>
</div>
</div>
</section>
<section id="aggregation" class="slide level2">
<h2>Aggregation</h2>
<p>Aggregation means grouping rows having common elements in a data frame and applying a given function to each group. It is useful for example for calculating sub-totals.</p>
<p>In R it can be done using the <code>by</code> function or the <code>aggregate</code> function (changes the output type):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a></a><span class="fu">by</span>(df<span class="sc">$</span>A, <span class="at">INDICES =</span> df<span class="sc">$</span>B, <span class="at">FUN=</span>sum)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>df$B: -
[1] 9
--------------------------------------------- 
df$B: +
[1] 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a></a><span class="fu">aggregate</span>(A<span class="sc">~</span>B, <span class="at">data =</span> df, <span class="at">FUN =</span> sum)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  B A
1 - 9
2 + 9</code></pre>
</div>
</div>
</section>
<section id="contingency-tables" class="slide level2">
<h2>Contingency tables</h2>
<p>A contingency table counts the occurrences between a pair of columns in a data frame:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a></a><span class="fu">head</span>(airquality, <span class="at">n =</span> <span class="dv">3</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Ozone Solar.R Wind Temp Month Day
1    41     190  7.4   67     5   1
2    36     118  8.0   72     5   2
3    12     149 12.6   74     5   3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a></a><span class="fu">with</span>(airquality, <span class="fu">table</span>(<span class="at">OzHi =</span> Ozone <span class="sc">&gt;</span> <span class="dv">80</span>, Month,</span>
<span id="cb106-2"><a></a>                        <span class="at">useNA =</span> <span class="st">"ifany"</span>))</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Month
OzHi     5  6  7  8  9
  FALSE 25  9 20 19 27
  TRUE   1  0  6  7  2
  &lt;NA&gt;   5 21  5  5  1</code></pre>
</div>
</div>
<p><strong>NOTE</strong>: <code>with()</code> is to save you from typing <code>airquality$Ozone</code> and <code>airquality$Month</code></p>
</section>
<section id="contingency-tables-1" class="slide level2">
<h2>Contingency tables</h2>
<ul>
<li>Also useful is <code>tapply()</code>, which operates on a table similarly to aggregate functions:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a></a><span class="fu">round</span>(<span class="fu">with</span>(airquality,</span>
<span id="cb108-2"><a></a>            <span class="fu">tapply</span>(Ozone, Month, mean, <span class="at">na.rm=</span>T)), <span class="dv">1</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   5    6    7    8    9 
23.6 29.4 59.1 60.0 31.4 </code></pre>
</div>
</div>
<p>With <code>aggregate()</code> you would do:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a></a><span class="fu">aggregate</span>(Ozone<span class="sc">~</span>Month, <span class="at">data=</span>airquality, <span class="at">FUN=</span>mean, <span class="at">ra.rm=</span>T)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Month    Ozone
1     5 23.61538
2     6 29.44444
3     7 59.11538
4     8 59.96154
5     9 31.44828</code></pre>
</div>
</div>
</section>
<section id="inputoutput-to-file" class="slide level2">
<h2>Input/output to file</h2>
<p>Since statistics generally deals with large quantities of data, it is essential to be able to import and export data in generic formats.</p>
<p>Data is generally presented in tabular form (by rows and columns)</p>
<p>The simplest and most common formats are:</p>
<ul>
<li><em>Flat File</em>: an ASCII text file containing row and column values; columns can be separated
<ul>
<li>fixed length</li>
<li>using separator characters</li>
</ul></li>
<li>CSV (<em>Comma-Separated Values</em>): a special version of FF where column fields are separated by commas</li>
</ul>
</section>
<section id="input-from-file" class="slide level2">
<h2>Input from file</h2>
<p>A <strong>flat file</strong> with fields separated by spaces can look like this:</p>
<pre><code># Data collected on 8/10/2023
x y z
1.2 3.7 2.7
2.1 2.5 3.9
3.8 2.2 6.8</code></pre>
<p>Such a file can be imported as a data frame like this:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a></a>df <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">"data_file.txt"</span>, <span class="at">header=</span>T, <span class="at">sep=</span><span class="st">" "</span>, <span class="at">comment.char=</span><span class="st">"#"</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>read.table()</code> function has numerous options that allow you to handle all possible cases in which files contain fields separated by specific characters (spaces or other)</p>
</section>
<section id="input-from-file-1" class="slide level2">
<h2>Input from file</h2>
<p>A <strong>flat file</strong> with fixed width fields can look like this:</p>
<pre><code># Data collected on 8/10/2023
x y z
1.2 3.7 2.7
2.1 2.5 3.9
3.8 2.2 6.8</code></pre>
<p>Such a file can be imported as a data frame like this:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a></a>df <span class="ot">&lt;-</span> <span class="fu">read.fwf</span>(<span class="st">"data_file.txt"</span>, <span class="at">widths=</span><span class="dv">5</span>, <span class="at">header=</span>T, <span class="at">skip=</span><span class="dv">1</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>skip=1</code> parameter requires skipping the first line (comment)</p>
</section>
<section id="input-from-csv-file" class="slide level2">
<h2>Input from CSV file</h2>
<p>CSV files are special FFs where the field separator is the comma. In these cases we use the <code>read.csv()</code> function which works similarly to <code>read.table()</code> but does not require specifying the separator.</p>
<p>A CSV looks like this:</p>
<pre><code># Data collected on 8/10/2023
x,y,z
1.2,3.7,2.7
2.1,2.5,3.9
3.8,2.2,6.8</code></pre>
<p>Software that uses Latin languages (Italian, Spanish, Portuguese and French) adopts the comma as decimal separator. Consequently, when these software (e.g.&nbsp;MS Excel) generate CSVs they use the semicolon as a field separator.</p>
<p>In this case from R it is necessary to use the <code>read.csv2()</code> function, which takes the comma as decimal separator and the semicolon as field separator.</p>
</section>
<section id="output-to-file" class="slide level2">
<h2>Output to file</h2>
<p>The opposite of importing a file to a data frame is exporting a data frame to a file.</p>
<p>This operation is performed with the opposite functions to the previous ones:</p>
<ul>
<li><code>write.table()</code></li>
<li><code>write.fwf()</code></li>
<li><code>write.csv()</code> and <code>write.csv2()</code></li>
</ul>
<p>All these functions have two mandatory arguments: the data frame to save and the destination file:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a></a><span class="fu">write.csv</span>(df, <span class="st">"data.csv"</span>)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Other optional arguments are used to customize the result.</p>
</section>
<section id="tidyverse" class="slide level2">
<h2>Tidyverse</h2>
<p>Along with RStudio, a <em>new wave</em> of R libraries has emerged that radically changes the approach. They go by the collective name of <a href="https://www.tidyverse.org"><code>tidyverse</code></a></p>
<ul>
<li><code>ggplot2</code>: plots</li>
<li><code>purrr</code>: functional programming</li>
<li><code>dplyr</code>: data manipulation</li>
<li><code>stringr</code>: string manipulation</li>
</ul>
</section>
<section id="tidyverse-1" class="slide level2">
<h2>Tidyverse</h2>
<p>Along with RStudio, a <em>new wave</em> of R libraries has emerged that radically changes the approach. They go by the collective name of <a href="https://www.tidyverse.org"><code>tidyverse</code></a></p>
<ul>
<li><code>tibble</code>: Improved data frames</li>
<li><code>readr</code>: import data</li>
<li><code>tidyr</code>: data preparation</li>
<li><code>lubridate</code>: date manipulation</li>
</ul>
</section>
<section id="tidyverse-2" class="slide level2">
<h2>Tidyverse</h2>
<p>The <code>tidyverse</code> approach has some common characteristics:</p>
<ul>
<li>data in <strong>tidy</strong> format (one observation per row, one variable, or observing, per column)</li>
<li>composition of graph functions with <code>+</code> (<code>ggplot(...) + geom_line()</code>), each function is a layer</li>
<li>prefix notation with <code>%&gt;%</code> (<code>a %&gt;% str()</code> instead of <code>str(a)</code>)</li>
</ul>
<p>It is useful to consult the cheat sheets: <a href="https://posit.co/resources/cheatsheets/">https://posit.co/resources/cheatsheets/</a></p>
</section>
<section id="infix-notation" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Infix notation</h2>
<div class="sourceCode" id="cb118"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb118-1" class="hljs-ln-code"><a></a><span class="co"># I create the histogram of a sample of 10 elements from 100 random numbers</span></span>
<span id="cb118-2" class="hljs-ln-code"><a></a><span class="co"># infix:</span></span>
<span id="cb118-3" class="hljs-ln-code"><a></a><span class="fu">hist</span>(<span class="fu">sample</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>), <span class="dv">10</span>))</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Hardly readable, the first step of the algorithm is the internal one</p>
</section>
<section id="infix-notation-sequenced" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Infix notation, sequenced</h2>
<div class="sourceCode" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb119-1" class="hljs-ln-code"><a></a><span class="co"># I create the histogram of a sample of 10 elements from 100 random numbers</span></span>
<span id="cb119-2" class="hljs-ln-code"><a></a><span class="co"># infix:</span></span>
<span id="cb119-3" class="hljs-ln-code"><a></a><span class="fu">hist</span>(<span class="fu">sample</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>), <span class="dv">10</span>))</span>
<span id="cb119-4" class="hljs-ln-code"><a></a></span>
<span id="cb119-5" class="hljs-ln-code"><a></a><span class="co"># sequenced infix:</span></span>
<span id="cb119-6" class="hljs-ln-code"><a></a>s <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb119-7" class="hljs-ln-code"><a></a>c <span class="ot">&lt;-</span> <span class="fu">sample</span>(s, <span class="dv">10</span>)</span>
<span id="cb119-8" class="hljs-ln-code"><a></a><span class="fu">hist</span>(c)</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>More readable, the algorithm is more obvious, but requires the creation of intermediate variables</p>
</section>
<section id="prefix-notation" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Prefix notation</h2>
<div class="sourceCode" id="cb120"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb120-1" class="hljs-ln-code"><a></a><span class="co"># I create the histogram of a sample of 10 elements from 100 random numbers</span></span>
<span id="cb120-2" class="hljs-ln-code"><a></a><span class="co"># infix:</span></span>
<span id="cb120-3" class="hljs-ln-code"><a></a><span class="fu">hist</span>(<span class="fu">sample</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>), <span class="dv">10</span>))</span>
<span id="cb120-4" class="hljs-ln-code"><a></a></span>
<span id="cb120-5" class="hljs-ln-code"><a></a><span class="co"># sequenced infix:</span></span>
<span id="cb120-6" class="hljs-ln-code"><a></a>s <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb120-7" class="hljs-ln-code"><a></a>c <span class="ot">&lt;-</span> <span class="fu">sample</span>(s, <span class="dv">10</span>)</span>
<span id="cb120-8" class="hljs-ln-code"><a></a><span class="fu">hist</span>(c)</span>
<span id="cb120-9" class="hljs-ln-code"><a></a></span>
<span id="cb120-10" class="hljs-ln-code"><a></a><span class="co"># prefix with pipe:</span></span>
<span id="cb120-11" class="hljs-ln-code"><a></a><span class="fu">rnorm</span>(<span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="fu">sample</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span> <span class="fu">hist</span>()</span></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Much more readable, the sequential algorithm is obvious, no intermediate variables are needed</p>
</section>
<section id="prefix-notation-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Prefix notation</h2>
<div class="sourceCode" id="annotated-cell-67"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="annotated-cell-67-1" class="hljs-ln-code"><a href="#annotated-cell-67-1"></a><span class="co"># I create the histogram of a sample of 10 elements from 100 random numbers</span></span>
<span id="annotated-cell-67-2" class="hljs-ln-code"><a href="#annotated-cell-67-2"></a><span class="co"># infix:</span></span>
<span id="annotated-cell-67-3" class="hljs-ln-code"><a href="#annotated-cell-67-3"></a><span class="fu">hist</span>(<span class="fu">sample</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>), <span class="dv">10</span>))</span>
<span id="annotated-cell-67-4" class="hljs-ln-code"><a href="#annotated-cell-67-4"></a></span>
<span id="annotated-cell-67-5" class="hljs-ln-code"><a href="#annotated-cell-67-5"></a><span class="co"># sequenced infix:</span></span>
<span id="annotated-cell-67-6" class="hljs-ln-code"><a href="#annotated-cell-67-6"></a>s <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="annotated-cell-67-7" class="hljs-ln-code"><a href="#annotated-cell-67-7"></a>c <span class="ot">&lt;-</span> <span class="fu">sample</span>(s, <span class="dv">10</span>)</span>
<span id="annotated-cell-67-8" class="hljs-ln-code"><a href="#annotated-cell-67-8"></a><span class="fu">hist</span>(c)</span>
<span id="annotated-cell-67-9" class="hljs-ln-code"><a href="#annotated-cell-67-9"></a></span>
<span id="annotated-cell-67-10" class="hljs-ln-code"><a href="#annotated-cell-67-10"></a><span class="co"># prefix with pipe:</span></span>
<span id="annotated-cell-67-11" class="hljs-ln-code"><a href="#annotated-cell-67-11"></a><span class="fu">rnorm</span>(<span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="fu">sample</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span> <span class="fu">hist</span>()</span>
<span id="annotated-cell-67-12" class="hljs-ln-code"><a href="#annotated-cell-67-12"></a></span>
<span id="annotated-cell-67-13" class="hljs-ln-code"><a href="#annotated-cell-67-13"></a><span class="co"># even on multiple lines:</span></span>
<span id="annotated-cell-67-14" class="hljs-ln-code"><a href="#annotated-cell-67-14"></a><span class="fu">rnorm</span>(<span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<a class="code-annotation-anchor hljs-ln-code" data-target-cell="annotated-cell-67" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-67-15" class="code-annotation-target hljs-ln-code"><a href="#annotated-cell-67-15"></a>   <span class="fu">sample</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<a class="code-annotation-anchor hljs-ln-code" data-target-cell="annotated-cell-67" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-67-16" class="code-annotation-target hljs-ln-code"><a href="#annotated-cell-67-16"></a>   hist</span><div class="code-annotation-gutter-bg hljs-ln-code"></div><div class="code-annotation-gutter hljs-ln-code"></div></code><button title="Copia negli appunti" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-67" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-67" data-code-lines="15" data-code-annotation="1">the lines following the first must be <strong>indented</strong></span>
</dd>
<dt data-target-cell="annotated-cell-67" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-67" data-code-lines="16" data-code-annotation="2">only when using pipe, if there are no arguments the parentheses are optional</span>
</dd>
</dl>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>paolo.bosetti@unitn.it — <a href="https://paolobosetti.quarto.pub/ADAS">https://paolobosetti.quarto.pub/ADAS</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': true,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copiato!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copiato!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/paolobosetti\.quarto\.pub\/teaching");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
            let selectedAnnoteEl;
            const selectorForAnnotation = ( cell, annotation) => {
              let cellAttr = 'data-code-cell="' + cell + '"';
              let lineAttr = 'data-code-annotation="' +  annotation + '"';
              const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
              return selector;
            }
            const selectCodeLines = (annoteEl) => {
              const doc = window.document;
              const targetCell = annoteEl.getAttribute("data-target-cell");
              const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
              const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
              const lines = annoteSpan.getAttribute("data-code-lines").split(",");
              const lineIds = lines.map((line) => {
                return targetCell + "-" + line;
              })
              let top = null;
              let height = null;
              let parent = null;
              if (lineIds.length > 0) {
                  //compute the position of the single el (top and bottom and make a div)
                  const el = window.document.getElementById(lineIds[0]);
                  top = el.offsetTop;
                  height = el.offsetHeight;
                  parent = el.parentElement.parentElement;
                if (lineIds.length > 1) {
                  const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
                  const bottom = lastEl.offsetTop + lastEl.offsetHeight;
                  height = bottom - top;
                }
                if (top !== null && height !== null && parent !== null) {
                  // cook up a div (if necessary) and position it 
                  let div = window.document.getElementById("code-annotation-line-highlight");
                  if (div === null) {
                    div = window.document.createElement("div");
                    div.setAttribute("id", "code-annotation-line-highlight");
                    div.style.position = 'absolute';
                    parent.appendChild(div);
                  }
                  div.style.top = top - 2 + "px";
                  div.style.height = height + 4 + "px";
                  div.style.left = 0;
                  let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
                  if (gutterDiv === null) {
                    gutterDiv = window.document.createElement("div");
                    gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                    gutterDiv.style.position = 'absolute';
                    const codeCell = window.document.getElementById(targetCell);
                    const gutter = codeCell.querySelector('.code-annotation-gutter');
                    gutter.appendChild(gutterDiv);
                  }
                  gutterDiv.style.top = top - 2 + "px";
                  gutterDiv.style.height = height + 4 + "px";
                }
                selectedAnnoteEl = annoteEl;
              }
            };
            const unselectCodeLines = () => {
              const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
              elementsIds.forEach((elId) => {
                const div = window.document.getElementById(elId);
                if (div) {
                  div.remove();
                }
              });
              selectedAnnoteEl = undefined;
            };
              // Handle positioning of the toggle
          window.addEventListener(
            "resize",
            throttle(() => {
              elRect = undefined;
              if (selectedAnnoteEl) {
                selectCodeLines(selectedAnnoteEl);
              }
            }, 10)
          );
          function throttle(fn, ms) {
          let throttle = false;
          let timer;
            return (...args) => {
              if(!throttle) { // first call gets through
                  fn.apply(this, args);
                  throttle = true;
              } else { // all the others get throttled
                  if(timer) clearTimeout(timer); // cancel #2
                  timer = setTimeout(() => {
                    fn.apply(this, args);
                    timer = throttle = false;
                  }, ms);
              }
            };
          }
            // Attach click handler to the DT
            const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
            for (const annoteDlNode of annoteDls) {
              annoteDlNode.addEventListener('click', (event) => {
                const clickedEl = event.target;
                if (clickedEl !== selectedAnnoteEl) {
                  unselectCodeLines();
                  const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
                  if (activeEl) {
                    activeEl.classList.remove('code-annotation-active');
                  }
                  selectCodeLines(clickedEl);
                  clickedEl.classList.add('code-annotation-active');
                } else {
                  // Unselect the line
                  unselectCodeLines();
                  clickedEl.classList.remove('code-annotation-active');
                }
              });
            }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>